## 复盘
- 安装包版本选择
- 各种命令行编辑窗口混乱
- 配置位置不清晰
- 各个工具安装位置不知怎么安排磁盘和最优选择
- MPC知道放在项目里却不清楚具体应该放在文件里的哪个地方、层次结构不分明。

### Windows 10/11 64 位系统上下载软件时，安装包命名模式
**核心标识：架构 (x64 / amd64 / win64)**

**`x64`：** **这是目前最主流、最推荐的 64 位标识符。**
**`amd64`：** **与 `x64` 完全等价。**
**`win64`：** 含义与 `x64` 相同，表示适用于 64 位 Windows。使用频率相对前两者低一些。

**核心标识：文件格式/类型 (.exe, .msi, .zip)**

**`.exe` (可执行文件)：** **最常见**的安装包格式。
  可能是：
    - **完整的安装程序：** 直接双击运行即可开始安装向导。
    - **在线安装器/下载器**：文件名可能包含 `setup`, `install`, `webinstall`, `online` 等。
    - **自解压压缩包 (SFX)：**本质是压缩文件，但打包成了 .exe，双击会自动解压到指定位置（可能是绿色版，也可能是启动真正的安装程序）。
    **示例命名：**`SoftwareName_2.0_x64.exe` (最理想，直接标明64位)

**`.msi` (Microsoft Installer)：** Windows 的原生安装包格式，基于数据库记录安装过程。
 **示例命名：**`SoftwareName_2.0_x64.msi` (清晰标明x64)

**`.zip`, `.7z`, `.rar` (压缩包)：**通常用于 **便携版 (Portable)** 软件或绿色版。解压后即可运行，无需安装，不写注册表，文件都在一个文件夹里。
**示例命名：**`SoftwareName_Portable_x64.zip`


### powershell，CMD，git 三种区别：
下面是用表格形式总结的 PowerShell、CMD 和 Git 之间的关系与区别：

| **特性**        | **CMD**               | **PowerShell**                  | **Git**                            |
| ------------- | --------------------- | ------------------------------- | ---------------------------------- |
| **类型**        | 命令行解释器 (Shell)        | 命令行解释器/脚本语言/自动化平台               | 分布式版本控制系统                          |
| **核心目的**      | 执行基础命令、运行程序、批处理脚本     | 系统管理、自动化、脚本编写、访问 .NET 对象        | 跟踪和管理文件（代码）的版本历史                   |
| **数据处理**      | 文本流                   | .NET 对象                         | 通过命令行工具处理文件版本信息（文本/二进制）            |
| **管道 (`\|`)** | 传递文本                  | 传递对象（支持复杂操作）                    | 输出文本，可在 Shell 管道中使用                |
| **命令来源**      | 内置命令 + 外部程序 (exe/bat) | Cmdlet + 函数 + 外部程序 + 别名         | git.exe 及其子命令 (add/commit/push 等)  |
| **脚本能力**      | 有限 (bat/cmd 脚本)       | 强大 (ps1 脚本，支持编程语法)              | 无内置脚本，需通过 Shell 调用                 |
| **面向对象**      | ❌ 否                   | ✔️ 是                            | ❌ 否                                |
| **平台**        | 仅 Windows             | Windows (内置), macOS/Linux (需安装) | 跨平台 (Windows/macOS/Linux)          |
| **与Git的关系**   | 可运行 git 命令            | 可运行 git 命令 (推荐环境)               | **必须**通过 CMD/PowerShell 等 Shell 执行 |
```text

用户操作
    │
    ├─ 通过 Shell 环境操作 ─────┐
    │                          │
    ▼                          ▼
┌─────────┐   执行    ┌───────────┐
│   CMD   │◄───┬─────►│ PowerShell│
└─────────┘    │      └───────────┘
    │          │           │
    │ 调用     │ 调用      │ 调用
    ▼          ▼           ▼
┌───────────────────────────────┐
│             Git               │
│ (git add / commit / push 等)  │
└───────────────────────────────┘
 ```

### **Cmder与CMD/PowerShell/Git的关系与区别**

**Cmder** 是一个**第三方终端增强工具**，并非Windows原生组件，其核心价值在于集成并优化了多类命令行环境的使用体验。

|**特性**|**Cmder**|**CMD**|**PowerShell**|**Git**|
|---|---|---|---|---|
|**本质**|终端模拟器（集成多环境）|Windows原生Shell|高级Shell/脚本平台|分布式版本控制系统|
|**核心功能**|统一界面运行CMD、PowerShell、Git等命令|基础文件/系统操作|系统管理/自动化/对象处理|代码版本控制与协作|
|**命令支持**|透传所有子环境命令（如`git`、`ps`命令）|仅限DOS命令及外部程序|Cmdlet/.NET/外部命令|需通过Shell调用`git`子命令|
|**界面体验**|多标签页/配色方案/字体优化/内置Linux工具|单色文本/基础功能|语法高亮/部分Linux命令支持|无独立界面，依赖宿主终端|
|**资源占用**|较高（依赖集成组件）9|极低（约1MB内存）9|较高（约20MB内存）9|轻量（作为子进程运行）|
|**适用场景**|**开发者日常终端**（需跨环境/美观/高效）|简单文件操作/兼容旧脚本|自动化/系统管理/复杂数据处理|代码版本管理|
- Cmder **不是** 替代CMD/PowerShell/Git，而是**提供统一操作界面**，底层仍调用这些工具执行命令
- 优势：避免在不同命令行工具间切换，支持自定义别名（如`ls`替代`dir`），集成Git Bash简化开发流程

### **PowerShell与CMD的管理员 vs. 非管理员权限区别**

#### **1. 权限要求差异**

- **CMD**：
    - **非管理员**：仅能操作用户目录、启动普通应用（如`dir`、`ping`）。
    - **管理员**：可修改系统设置（如`net user`管理账户）、写入受保护目录（如`C:\Windows`）
    - _局限_：无内置权限提升机制，需手动右键选择“以管理员身份运行”。        
- **PowerShell**：
    - **非管理员**：可执行基础命令（如`Get-Process`），但受限操作（如创建用户/修改注册表）会报错2。
    - **管理员**：解锁全部能力（如`New-LocalUser`创建用户、`Set-NetFirewallRule`配置防火墙）。    
- _优势_：支持脚本级权限控制（如JEA框架），可通过命令触发UAC提权。
        
#### **2. 权限提升方式**

- **CMD提权**：
    - 手动：右键 → “以管理员身份运行”。    
    - 命令：`runas /user:Administrator cmd`（需输入密码）68。    
- **PowerShell提权**：
    - 当前会话：`Start-Process powershell -Verb RunAs`（触发UAC）46。    
    - 运行CMD命令：    
```powershell    
Start-Process -Verb RunAs cmd.exe -Args "/c", "dism /Online /Cleanup-Image /RestoreHealth"     
```
        此命令以管理员身份调用CMD执行系统修复
        
#### **安全机制对比**

|**特性**|**CMD**|**PowerShell**|
|---|---|---|
|**执行策略**|无|可限制脚本执行（如`Restricted`模式禁止脚本）7|
|**日志审计**|基础事件记录|详细转录日志（记录命令输入/输出）|
|**远程管理**|不支持|加密远程会话（`Enter-PSSession`）|
|**提权流程**|依赖外部操作|内置`-Verb RunAs`参数触发UAC|
### **使用场景建议**

1. **Cmder**：
    - **推荐**：日常开发（尤其需同时使用Git/PowerShell的场景），追求终端美观与效率1。    
    - **回避**：资源敏感环境（老旧设备）或需极致轻量的自动化任务。    
2. **管理员权限**：  
    - **必需场景**：系统修复（如DISM命令）、安装服务、修改受保护资源。        
    - **安全原则**：日常操作避免管理员身份，减少误操作风险；临时提权后及时关闭会话。    
3. **工具选择**：
    - **简单任务** → CMD（如文件复制`copy`）。    
    - **自动化/管理** → PowerShell（如批量创建用户）。    
    - **跨平台/开发** → PowerShell Core + Cmder。
权限的本质是安全边界：非管理员状态是“用户沙盒”，管理员权限则是“系统钥匙”。日常操作推荐使用PowerShell + Cmder的非管理员模式，仅在必要时提权。

### **环境变量**
1. **核心作用**
    - **存储系统路径**：例如 `PATH` 变量存储可执行文件（如 `.exe`）的搜索路径，命令行输入命令时系统会自动在这些路径中查找。    
    - **传递配置信息**：如 `JAVA_HOME` 指向 JDK 安装目录，供开发工具（如 Maven、Gradle）调用。    
    - **控制程序行为**：如 `TEMP` 定义临时文件夹路径，`LANG` 设置系统语言。    
2. **常见变量示例**
以下是常见环境变量示例，名称、作用和典型值：

|**变量名**|**作用描述**|**典型值示例**|**使用场景**|
|---|---|---|---|
|`PATH`|系统搜索可执行文件的路径列表|`C:\Windows\system32;C:\Program Files\Java\bin`|命令行直接运行程序（如 `python`）|
|`TEMP`/`TMP`|临时文件存储路径|`C:\Users\用户名\AppData\Local\Temp`|程序缓存、下载临时文件|
|`JAVA_HOME`|Java开发工具包（JDK）安装路径|`C:\Program Files\Java\jdk-17`|Java开发、Maven/Gradle构建|
|`USERPROFILE`|当前用户主目录|`C:\Users\用户名`|访问用户文档、桌面等个人文件夹|
|`SystemRoot`|Windows系统安装目录|`C:\Windows`|系统文件访问、服务配置|
|`APPDATA`|应用程序数据存储路径（漫游）|`C:\Users\用户名\AppData\Roaming`|保存程序配置和用户数据|
|`LOCALAPPDATA`|本地应用程序数据存储路径（不漫游）|`C:\Users\用户名\AppData\Local`|存储大型临时数据（如浏览器缓存）|
|`ProgramFiles`|64位程序默认安装目录|`C:\Program Files`|软件安装位置|
|`ProgramFiles(x86)`|32位程序默认安装目录|`C:\Program Files (x86)`|兼容旧版32位软件|
|`OS`|操作系统名称|`Windows_NT`|脚本判断操作系统类型|
|`NUMBER_OF_PROCESSORS`|CPU核心数量|`8`|多线程任务分配优化|
|`HOMEPATH`|当前用户目录路径（相对）|`\Users\用户名`|脚本路径拼接|
|`COMPUTERNAME`|计算机名称|`DESKTOP-ABC123`|网络识别、远程连接|
|`PYTHONPATH`|Python模块搜索路径|`D:\MyPythonLibs`|Python导入自定义模块|
|`ANDROID_HOME`|Android SDK安装路径|`C:\Android\sdk`|移动应用开发|
### 关键说明：

1. **路径分隔符**：Windows使用分号`;`分隔多个路径（如`PATH`），而Linux/macOS使用冒号`:`
2. **变量引用**：
```bat
echo 用户文档路径：%USERPROFILE%\Documents
```

3. **作用域差异**：
    - **用户变量**：仅影响当前用户（存储位置：注册表`HKEY_CURRENT_USER\Environment`）
    - **系统变量**：影响所有用户（存储位置：注册表`HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Environment`）
    
**最佳实践**：
- 开发环境配置（如JDK、Python）建议设置**用户变量**  
- 通用工具路径（如Git、Docker）建议添加到**系统PATH**  
- 敏感信息（如API密钥）应存储在用户变量中避免全局暴露

 **修改优先级：**
当用户变量与系统变量同名时：
![](Pasted%20image%2020250630210503.png)

