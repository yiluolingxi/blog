# 区块链

**区块链** ：就是一个一个区块组成的链表，每个区块有一个块头`block header`，`block header`里面有很多的阈，其中有一个阈是我们可以设置的随机数`nonce`。  

**挖矿** ：的过程就是不停的去试各种`nonce`，使得整个`block header`取哈希之后，落在指定的范围之内，小于等于一个`target space`。  
![](Pasted%20image%2020240315215632.png)
![](Pasted%20image%2020240315221853.png)
这个是整个的`output space`（输出空间），我们要求这个算出的哈希值只有落在前面`target space`才是合法的。
# 比特币 

**BTC 比特币（Bitcoin）**： `Crypto-currency`（加密货币，/ˈkrɪptəʊˌ'kʌrənsi/），目的是提供一种不依赖于中央机构的电子支付系统， 它允许人们通过一个去中心化的网络进行交易，该网络基于一种称为区块链的分布式账本技术，处理和记录所有的 `transactions`（交易）。  
用户通过 挖矿 过程来创建新的 BTC 。      

当前的加密货币，是不加密的，区块链上所有的交易内容都是公开的（包括账户的金额、转账的地址都是公开的）。    

比特币中运用到了密码学中的两个功能：   
**Hash（哈希）**  
**Signatures （签名）** /ˈsɪɡnətʃə(r)z/

## Hash
**密码学中用的哈希函数**被称为：`cryptographic hash functions` 加密哈希函数。/ˌkrɪptəˈɡræfɪk/  

### 它用到密码学中两个比较重要的性质：

**Collision Resistance（/kəˈlɪʒən rɪˈzɪstəns/, 抗碰撞性）**：这保证了哈希函数的唯一性。
- **Strong Collision Resistance  （强抗碰撞性）**：很难找到任意两个不同的输入，它们产生相同的输出。 X≠Y, H(X)=H(Y) 
- **Weak Collision Resistance （弱抗碰撞性）**：给定一个固定的输入，很难找到另一个不同的输入，使得两者产生相同的输出。

**hiding**：加密哈希函数的计算过程是 单向的，不可逆的。  
意味着对于给定的哈希输出，无法确定任何有关输入的信息。确保信息不被恢复或推断。  
X ->H(X)，不能反推

### 除了密码学中要求的这2个性质之外，比特币中用到的哈希函数还要求第3个性质：

**puzzle friendly**：哈希值的计算事先是不可预测的。你光是看这个输入，你很难猜出来他最后的哈希值是什么。  




哈希碰撞及特点？  
像我们使用哈希表的过程中，就会遇到哈希碰撞，不同的输入可能会被映射到哈希表当中的同一个位置。
一般来说呢，哈希碰撞是不可避免的，因为输入空间是远远大于输出空间。  

输出空间有多大？   
比特币中哈希值的取值可能就是2的256次方，输出空间就只有这么大。  

输入空间有多大？  
可以是无限大的，所以它是有任意多种数的可能性。  
按照鸽笼原理（Pigeonhole Principle，/ˈpɪdʒənˌhoʊl ˈprɪnsəpl/）的话，必然会出现有两个输入被映射到同一个输出的情况。

collision resistance？  
这里指没有什么高效的方法，人为的去制造哈希碰撞。实际上碰撞是客观存在的。      
硬要找的话，可以用暴力破解`Brute- force`的方法，比如说X和Y，你就遍历所有输入的可能性，然后看看哪一个算出来它是要相等。 但是如果这个输入空间比较大，比如说是对于一个哈希值是256位的话，用这种方法去找，在实际中是不可行的，他工作量实在是太大了。 

哈希值的取值范围？  
取决于哈希函数的设计和应用场景。一般来说，哈希函数的输出可以是任意大小的数字或字符串，但是在实际应用中，哈希值通常是固定长度的。例如，MD5哈希函数生成的哈希值是128位（16字节）长。    
- **MD5**: 生成128位（16字节）的哈希值。
- **SHA-1**: 生成160位（20字节）的哈希值。
- **SHA-256**: 生成256位（32字节）的哈希值。
- **SHA-512**: 生成512位（64字节）的哈希值。
哈希函数的设计目的：是将任意长度的输入数据映射到固定长度的哈希值上，以便于数据的快速查找和比较。 长度直接影响了哈希函数的安全性和冲突概率。 较长的哈希值通常意味着更高的安全性，因为它更难以通过碰撞攻击找到两个不同的输入数据产生相同的哈希值。
