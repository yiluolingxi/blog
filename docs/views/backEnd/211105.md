---
title: require module.exports 和 import export
date: 2021-11-05
tags:
 - node
     
categories: 
 - backEnd
---

## 1. 学前疑问
1. require module.exports 和 import export是什么
2. 各自的应用场景是什么





## 2. 初步了解
通过查阅 **NodeJS中的require和import**[<sup id="$1">1</sup>](#1)、**遵循的模块化规范不一样**[<sup id="$2">2</sup>](#2)、**AMD、CMD、CommonJs、ES6的对比**[<sup id="$3">3</sup>](#3)    
  
可以得知
- require/exports：JavaScript社区中的开发者自己草拟的规则，CommonJS/AMD/CMD规范，在运行时调用，本质是赋值过程，可运行在任何地方。
- import/export：ES6语法标准，在编译时调用，本质是结构过程，前面不允许有其他逻辑代码，需要babel转换为require。必须放在文件开头

模块化规范：
- AMD: RequireJS在推广过程中对模块定义的规范化产出
- CMD: SeaJS在推广过程中对模块定义的规范化产出
- CommomJS：Nodejs采用的模块规范

时间线：
- AMD/CMD 2010年前后出生，到2014年基本没落
- 2014年，Nodejs模板规范CommonJS。webpack开始发展，用于打包CommonJS。
- 2015年，ES6发版，Nodejs和浏览器无法直接使用ES6，Webpack上使用babel-loader将其转为require/exports。ES6推广


结论：发展后，本质上还是require/exports



## 3. 详细内容
### 3.1 用法
- require/exports
    ```node
    const fs = require('fs')

    exports.fs = fs // 返回 {fs: fs}
    module.exports = fs // 返回 fs
    ```

- import/export  （ES6）
    ````node
    import fs from 'fs'
    import { default as fs } from 'fs'
    import * as fs from 'fs'
    import { readFile } from 'fs'
    import { readFile as read } from 'fs'
    import fs, { readFile } from 'fs'

    export default fs
    export const fs
    export function readFile
    export { readFile, read }
    export * from 'fs'
    ````
default是ES6的关键字，用于指定默认输出    
两者都是输出一个具有多个属性、方法的对象。


### 3.2 引用差异
- require/exports： 普通值传递、引用传递。
- import/export（ES6）：导入模块的属性和方法是引用传递，包括基础类型。




## 总结






## 课后疑问
1. AMD CMD COMMON规范？




## 参考资料
- <span id="1"></span>[1] [NodeJS中的require和import
：https://www.cnblogs.com/huancheng/p/10312822.html](https://www.cnblogs.com/huancheng/p/10312822.html) ===> [back](#$1)

- <span id="2"></span>[2] [遵循的模块化规范不一样：https://www.zhihu.com/question/56820346](https://www.zhihu.com/question/56820346) ===> [back](#$2)

- <span id="3"></span>[3] [AMD、CMD、CommonJs、ES6的对比：https://blog.csdn.net/tangxiujiang/article/details/81104174](https://blog.csdn.net/tangxiujiang/article/details/81104174) ===> [back](#$3)



个人github：[**https://github.com/zhengjiabo**](https://github.com/zhengjiabo) 