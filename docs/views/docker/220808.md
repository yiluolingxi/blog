---
title: docker - 6 | 构建缓存优化技术及多阶段构建
date: 2022-08-08
tags:
 - docker
categories: 
 - docker
---

## 总结




## 1. SPA 单页应用部署
![](./220808/1.png)

node 单页应用部署：
1. 构建：`npm run build` 获得 `/build` 或 `/dist`。
2. 执行 `npx serve -s build`，使用开源库 serve 启动服务。      
 
翻译成 Dockerfile
```dockerfile
FROM node:14-alpine

WORKDIR /code

ADD . /code
RUN yarn && npm run build

CMD npx serve -s build
EXPOSE 3000
```








## 2. nginx 的基础配置







## 疑问







个人github：[**https://github.com/zhengjiabo**](https://github.com/zhengjiabo) 