---
title: 全局命令行工具
date: 2022-11-13
tags:
 - linux
categories: 
 - linux
---


## 总结
- `#! /usr/bin/env xxx`





## 提问
- [x] 





## 1. 前提提要、场景
通过前面的学习，我们已经能够自己编写简单的 SHELL 脚本了。例如新建脚本文件 `hello.sh`
```bash
echo 'hello, world'
```
只要在命令行工具中执行 `bash hello.sh`，便可以执行脚本

如何使我们的脚本，直接通过输入文件名直接执行，如 `ls` / `node` / `cd`
1. 脚本具有可执行权限
1. `shebang` 指定执行环境




## 2. shebang 指定执行环境
`#!` 被称为 `shebang` / `hashbang`，`hash` 等价于 `#`, `bang` 等价于 `!`。指定一个解释器。      
对于可执行的文件，可以在首行添加 `shebang`     

### 2.1 `#! /usr/bin/env xxx`

指定 `bash` 环境
```bash
#! /usr/bin/env bash

echo 'hello, world'
```

指定 `node` 环境
```bash
#! /usr/bin/env node 

echo 'hello, world'
```

指定 `python` 环境
```bash
#! /usr/bin/env python

echo 'hello, world'
```
`#! usr/bin/env bash`
- 指定了该脚本使用 `/usr/bin/env bash` 来执行
- `/usr/bin/env` 即 `env` 所有环境变量及其赋值。 
- `env bash` 将从环境变量即 `PATH` 中寻找可执行的 `bash` 命令。


> 由于历史原因，产生了两个极为相似的命令 `env` 和 `printenv`, 两者差别不大，`env` 可以用于 `shebang`，具体的差别可以参考 [what-is-the-difference-between-env-and-printenv](https://unix.stackexchange.com/questions/123473/what-is-the-difference-between-env-and-printenv)


### 2.2 `#! /usr/bin/xx`

也可以直接指定 `shell` 工具的绝对路径
```bash
#! /usr/bin/sh

echo 'hello world'
```


## 3. 全局命令行工具



添加可执行权限
```bash
$ chmod +x hello.sh

#=> hello, world
$ hello.sh
hello, world
```